<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">

<title>OAM SDN Manager</title>

<!-- Bootstrap core CSS -->
<link href="css/bootstrap.css" rel="stylesheet">

<!-- Custom CSSs -->
<link href="css/style.css" rel="stylesheet">
<link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
<link href="css/topo.css" rel="stylesheet">
</head>

<body>
	<!-- loading while ajax..<div id="preview"></div> -->
	<div id="wrapper">

		<!-- Sidebar  -->
		<div class="sidebar-container"></div>

		<div id="page-wrapper">

			<div class="page"></div>

		</div>
		<!-- /#page-wrapper -->

	</div>
	<!-- /#wrapper -->



	<!-- TEMPLATES -->

	<!-- LOGIN TEMPLATE -->
	<script type="text/template" id="login-template">
  		<!-- Sidebar -->
  		<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  			<!-- Brand and toggle get grouped for better mobile display -->
  			<div class="navbar-header">
  				<a class="navbar-brand" href="">OAM SDN project</a>
  			</div>
  		</nav>

  		<div id="">

  			<div class="row">
  				<!-- Template -->
  				<!-- HEAD ROW -->
  				<div class="col-lg-12">

  					<div class="row">
  						<div class="col-md-4 col-md-offset-4">
  							<br>
  							<div class="well">
  								<form>
  									<fieldset>
  										<center>
  											<legend>Login</legend>&nbsp;
  											<input type="text" id="username" class="input-block-level"
  												name="username" placeholder="Username" required> 
  											<br>
  											<br><input type="password" id="password"
  												class="input-block-level" name="password"
  												placeholder="Password" required><br> 
  											<!--<input type="checkbox" name="remember" value="1">Remember Me<br> <br> -->
  											<br>



  										</center>
  									</fieldset>
  								</form>
  								<center>
  									<button id="check" class="btn btn-lg btn-success">
  											<i class="fa fa-user"></i> submit
  									</button>
  								</center>
  							</div>
  						</div>
  					</div>

  					<div class="row">
  						<center>
  							<div class="loading" id="loading" style="margin: -50px 0 0 -20px;">
  								<img src="img/loading.gif" width="350px" height="150px">
  							</div>
  						</center>
  						<div class="msg" id="msg">
  							<center>
  								<a href="/AppServer">
  								<button class="btn btn-danger">
  								<h5>
  									<i class="fa fa-gears"></i>
  									<text class="msg">input error <br>
  									try again </text>
  								</h5>
  								</button>
  								</a>
  							</center>
  						</div>
  					</div>
  				</div>
  				<!-- /HEAD ROW -->
  			</div>
  			<!-- /#page-wrapper -->
  		</div>
    </script>
	<!-- /LOGIN TEMPLATE -->

	<!-- SIDEBAR VIEW -->
	<!-- SIDEBAR ADMIN-->
	<script type="text/template" id="admin-sidebar-template">
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#/adminOverview" id="oamSDNlogged"><i class="fa fa-gamepad"></i> OAM SDN | <%= loginOrgName %></a>
          </div>
          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav side-nav">
              <li class="<% if(btnHL==1){%> active <%}%>"><a href="#/adminOverview"><i class="fa fa-globe"></i> Global State</a></li>
              <li class="<% if(btnHL==7){%> active <%}%>"><a href="#/adminAlarms"><i class="fa fa-bell"></i> Alarms</a></li>
              <li class="<% if(btnHL==2){%> active <%}%>"><a href="#/adminOrgs"><i class="fa fa-briefcase"></i> Organizations</a></li>
              <li class="<% if(btnHL==3){%> active <%}%>"><a href="#/adminFlows"><i class="fa fa-link"></i> Flows</a></li>
              <li class="<% if(btnHL==4){%> active <%}%>"><a href="#/adminTerminals"><i class="fa fa-desktop"></i> Terminals</a></li>
              
              <li class="<% if(btnHL==5){%> active <%}%>"><a href="#/adminTraffic"><i class="fa fa-th"></i> Traffic Analysis</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right navbar-user">

              <li class="<% if(btnHL==6){%> active <%}%>"><a data-toggle="modal" href="#aboutUs"><i class="fa fa-users"></i> About this project</a></li>
              
            
              <li class="dropdown alerts-dropdown" id="alarmsDropDown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" <% if(alarmCounting>0){' style="color:red"'}%>><i class="fa fa-bell"></i> Alarms <% if(alarmCounting>0){ %><span class="badge" > <% alarmCounting %></span> <b class="caret"></b><%}%></a>
                <ul class="dropdown-menu" id="alarmsList">
                  <li><a href="#/adminOverview#alarmsAll">View All</a></li>
                </ul>
              </li>
              <li class="dropdown user-dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i> <%= loginUserName %> <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="#/editUser/<%= loginOrg %>/<%= loginUser %>"><i class="fa fa-user"></i> Profile</a></li>
                  <li><a href="#"><i class="fa fa-envelope"></i> Inbox <span class="badge">3</span></a></li>
                  <li><a href="#"><i class="fa fa-gear"></i> Settings</a></li>
                  <li class="divider"></li>
                  <li><a href="/AppServer"><i class="fa fa-power-off"></i> Log Out</a></li>
                </ul>
              </li>
            </ul>
          </div><!-- /.navbar-collapse -->
        </nav>

          <!-- ABOUT US -->
          <div class="modal fade" id="aboutUs" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                  <h4 class="modal-title">DXAT 2014</h4>
                </div>
                <div class="modal-body">
                   

                  <div id="carousel-aboutUs" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                      <li data-target="#carousel-aboutUs" data-slide-to="0" class="active"></li>
                      <li data-target="#carousel-aboutUs" data-slide-to="1"></li>
                      <li data-target="#carousel-aboutUs" data-slide-to="2"></li>
                      <li data-target="#carousel-aboutUs" data-slide-to="3"></li>
                      <li data-target="#carousel-aboutUs" data-slide-to="4"></li>
                      <li data-target="#carousel-aboutUs" data-slide-to="5"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner">

                      <div class="item active">
                      <center>
                        <img class="img-responsive" src="img/project.png" alt="Project">
                      </center>
                        <div class="carousel-caption">
                        
                          <p><code>SDN OAM MANAGER</p></code>  <p><code>Developed from September 2012 to January 2014</code></p> 
                          <p><code>EETAC school of UPC</code></p>
                        </div>
                      </div>

                      <div class="item">
                      <center>
                        <img class="img-responsive" src="img/net.gif" alt="Xavier Arteaga">
                      </center>
                        <div class="carousel-caption">
                        <center><img class="img-responsive img-circle" src="img/xavi.png"></center>
                          <p><code>Xavier Arteaga</code></p>  <p><code>The Controller</code></p>
                        </div>
                      </div>

                      <div class="item">
                        <center><img class="img-responsive" src="img/net.gif" alt="Jesus Gavilan"></center>
                        <div class="carousel-caption">
                        <center><img class="img-responsive img-circle" src="img/jesus.png"></center>

                        <p><code>Jesus Gavilan</code></p> <p><code>The DataBases Master</code></p> 
                        
                        </div>
                      </div>
                      
                      <div class="item">
                        <center><img class="img-responsive img-circle" src="img/net.gif" alt="Gerard Castillo"></center>
                        <div class="carousel-caption">
                          <center><img class="img-responsive" src="img/gerard.png"></center>
                          <p><code>Gerard Castillo</code></p> <p><code>The man in the middle</code></p>
                        </div>
                      </div>

                      <div class="item">
                        <center><img class="img-responsive" src="img/net.gif" alt="Alex Nasarre"></center>
                        <div class="carousel-caption">
                        <center><img class="img-responsive" src="img/alex.png"></center>

                        <p><code>Alex Nasarre</code></p> <p><code>From HW to any graphical dimension</code></p>
                        </div>
                      </div>

                      <div class="item">
                        <center><img class="img-responsive" src="img/net.gif" alt="Martí Boada"></center>
                        <div class="carousel-caption">
                        <center><img class="img-responsive img-circle" src="img/marti.png"></center>
                        <p><code>Martí Boada</code></p> <p><code>The Front-Ended</code></p>
                        
                        </div>
                      </div>

                    </div>

                    <!-- Controls -->
                    <a class="left carousel-control" href="#carousel-aboutUs" data-slide="prev">
                      <span class="fa fa-hand-o-left"></span>
                    </a>
                    <a class="right carousel-control" href="#carousel-aboutUs" data-slide="next">
                      <span class="fa fa-hand-o-right"></span>
                    </a>
                  </div>



                </div>
              </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
          </div><!-- /.modal -->



      </script>
	<!-- /SIDEBAR ADMIN-->

	<!-- SIDEBAR CLIENT-->
	<script type="text/template" id="client-sidebar-template">
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#/clientOverview/<%= loginOrg %>"><i class="fa fa-gears"></i> SDN [ <%= loginOrgName %> ]</a>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav side-nav">
              <li class="<% if(btnHL==1){%> active <%}%>"><a href="#/clientOverview/<%= loginOrg %>"><i class="fa fa-globe"></i> Global State</a></li>
              <li class="<% if(btnHL==2){%> active <%}%>"><a href="#/clientOrgData/<%= loginOrg %>"><i class="fa fa-briefcase"></i> Org. Data</a></li>
              <li class="<% if(btnHL==3){%> active <%}%>"><a href="#/clientFlows/<%= loginOrg %>"><i class="fa fa-link"></i> Flows</a></li>
              <li class="<% if(btnHL==4){%> active <%}%>"><a href="#/clientTerminals/<%= loginOrg %>"><i class="fa fa-desktop"></i> Terminals</a></li>
              <li class="<% if(btnHL==5){%> active <%}%>"><a href="#/clientTraffic/<%= loginOrg %>"><i class="fa fa-th"></i> Traffic Analysis</a></li>
              <li class="<% if(btnHL==6){%> active <%}%>"><a href="#"><i class="fa fa-th"></i> About us</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right navbar-user">
              <li class="dropdown user-dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user"></i> <%= loginUserName %> <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="#"><i class="fa fa-user"></i> Profile</a></li>
                  <li><a href="#"><i class="fa fa-gear"></i> Settings</a></li>
                  <li class="divider"></li>
                  <li><a href="/AppServer"><i class="fa fa-power-off"></i> Log Out</a></li>
                </ul>
              </li>
            </ul>
          </div><!-- /.navbar-collapse -->
        </nav>
      </script>
	<!-- /SIDEBAR CLIENT-->
	<!-- /SIDEBAR VIEW -->

	<!--ADMIN TEMPLATES-->

	<!-- GLOBAL VIEW -->
	<!-- ADMIN OVERVIEW VIEW TEMPLATE -->
	<script type="text/template" id="admin-overview-template">

              <div class="row"> <!-- TOPOLOGY and CONTROLLER ROW -->

                  <!-- TOPOLOGY col -->
                  <div class="col-lg-9 col-md-9 col-sm-9">

                    <div class="panel panel-primary">
                      <div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-cloud"></i> Network Topology Overview</h3>
                      </div>
                      <div class="panel-body">
                          <p class="text-center" id="topo"></p>
                      </div>
                    </div>
                  </div>
                  <!-- /TOPOLOGY col -->

                  <!-- CONTROLLER col -->
                  <div class="col-lg-3 col-md-3 col-sm-3">

                    <div class="panel panel-primary">
                      <div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-dashboard"></i> Controller</h3>
                      </div>
                      <div class="panel-body">
                        <div id="GS-controller">
            						<br><center>
            						<span id="memoryGaugeContainer"></span>
            						<span id="cpuGaugeContainer"></span>
            						</center><br>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- /CONTROLLER col -->
              </div><!-- /TOPOLOGY and CONTROLLER ROW -->

              <div id="advisementClick">
                <center> <h1> <p class="text-muted"> Click a switch from the graph above </p> <h1> </center>
              </div>

  			       <div id="statistics"> <!-- STATISTICS BIG COL -->
                <div class="row"> <!-- STATISTICS ROW -->
                  <div class="panel panel-primary">
                    <div class="panel-heading">
                      <h3 class="panel-title"><i class="fa fa-bar-chart-o"></i> Statistics</h3>
                    </div>
                    <div class="panel-body">
                      <!--<div id="GS-stats">-->
                        <div class="col-lg-6 col-md-6 col-sm-6">
                          <div class="panel panel-default">
                            <div class="panel-body" id="switchInfo">
                              <h4>Select an element from the graph above</h4>
                            </div>
                          </div>
  						            <div class="table-responsive">
                        	<table class="table table-bordered table-hover table-striped tablesorter">
                          <thead>
                            <tr>
                              <th><center>packetCount</center></th>
                              <th><center>byteCount</center></th>
                              <th><center>flowCount</center></th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td><center id="packetCount"></center></td>
                              <td><center id="byteCount"></center></td>
                              <td><center id="flowCount"></center></td>
                            </tr>
                          </tbody>
                        	</table>
                      	</div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-6">
                          <div class="panel panel-default">
                            <div class="panel-body" id="listingPorts">
                              <ul class="list-group" id="portList">

                              </ul>
                            </div>
                          </div>
                        </div>
  				            </div> <!-- /STATISTICS ROW -->

    				<!-- /GRAPH ROW -->
    				<div class="row" style="padding: 0 -15px; margin: -30px 15px 0 15px;">
    					<div class="panel-body">
                          <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="row">
                              <div class="panel panel-default">
                                <div class="panel-body" style="max-width: 100%; height: 325px; margin: 10 auto">
                                  <div id="textgraph"><h3>Port statistics graph </h3> <h4>Select a port from the list</h4></div>
    							  <div class="statisticsGraph" id="statisticsGraph" style="width: 100%; height: 285px; margin: 10 auto"></div>
                                </div>
                              </div>

                            </div>
                            <div class="row">
    						<center>
                              Parameter <div class="btn-group dropup">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" id="bparam">
                                  Received
                                  <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                  <li class='list-group-item' id="param" onclick="showPortStats();">receivePackets</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">transmitPackets</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">receiveBytes</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">transmitBytes</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">receiveDropped</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">transmitDropped</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">receiveErrors</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">transmitErrors</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">receiveFrameErrors</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">receiveOverrunErrors</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">receiveCRCErrors</li>
                                  <li class='list-group-item' id="param" onclick="showPortStats();">collisions</li>
                                </ul>
                              </div>
                               |  Value type <div class="btn-group dropup">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" id="bvaluetype">
                                  AVERAGE
                                  <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                  <li class='list-group-item' id="valuetype" onclick="showPortStats();">AVERAGE</li>
                                  <li class='list-group-item' id="valuetype" onclick="showPortStats();">MAX</li>
                                  <li class='list-group-item' id="valuetype" onclick="showPortStats();">MIN</li>
                                </ul>
                              </div>
                               |  Time interval <div class="btn-group dropup">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" id="btinterval">
                                  Last hour
                                  <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                  <li class='list-group-item' id="tinterval" onclick="showPortStats();">Per hour</li>
                                  <li class='list-group-item' id="tinterval" onclick="showPortStats();">Per minute</li>
                                  <li class='list-group-item' id="tinterval" onclick="showPortStats();">Per second</li>
                                </ul>
                              </div>
                            </div>
    						</center>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div> <!-- /GRAPH ROW -->
    			  </div> <!-- /STATISTICS BIG COL -->

<a data-toggle="modal" href="#modal-loading" class="btn btn-lg btn-danger"><i class="fa fa-trash-o"></i> Just a fukin test </a>

        <!-- MODAL LOADING -->
        <div class="modal fade" id="modal-loading" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">

              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title"><center>LOADING TOPOLOGY</center></h4>
              </div>

              <div class="modal-body">
                
                <div id="loading">
                  <center>
                    <img src="img/loading.gif" width="500" height="250">
                  </center>
                </div>
                
              </div>

              <div class="modal-footer">
              <p class="text-muted"> Be patient, my friend </p>
              </button>

                
               </div>
             </div><!-- /.modal-content -->
           </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->


        </script>
	<!-- /GLOBAL VIEW TEMPLATE -->
	<!-- /ADMIN OVERVIEW VIEW -->

  <!-- ALARMS VIEW -->
  <script type="text/template" id="admin-alarms-template">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <i class="fa fa-bell"></i> Alarms</a>
      </div>
      <div class="panel-body">
        <div id="GS-alerts">
          <div class="table-responsive">
            <table class="table table-bordered table-hover table-striped tablesorter">
              

<!-- //////////// TABLE HEADING //////////////// -->
              <thead>
                <tr>
                  <th>Alert </th>
                  <th>Date </th>
                  <th>Time </th>
                  <th>Details </th>
                </tr>
              </thead>
              <tbody>

<!-- //////////// FOR EACH EVENT [THIS EXAMPLE EVENT IS TAGGED AS alertDetail1] //////////////// -->
                <tr>
                  <td id="event"><span class="label label-success">Flow succeeded</span></td>
                  <td id="timestamp">11/21/2013</td>
                  <td>3:29 PM</td>
                  <td><center><button type="button" class="btn btn-primary" data-toggle="collapse" data-target=".alertDetail1">Details</button></center></td> 
                </tr>

                <!-- //for each (event) -->
                <tr class="collapse out alertDetail1">
                  <th>Invntory ID</th>
                  <th>Property Id</th>
                  <th>Legacy</th>
                  <th>New value</th>
                  <th>Message</th>
                </tr>

<!-- //////////// FOR EACH UPDATE  //////////////// -->
                <tr class="collapse out alertDetail1">
                  <td id="inventoryId">inventory XXXXX</td>
                  <td id="propertyId">true</td>
                  <td id="legacyValue">legacyyyyyyy</td>
                  <td id="newValue">false</td>
                  <td id="message">message in a bottle</td>
                </tr>
                <tr class="collapse out alertDetail1">
                  <td id="inventoryId">inventory YYYYY</td>
                  <td id="propertyId">false</td>
                  <td id="legacyValue">legacyyyyyyy</td>
                  <td id="newValue">true</td>
                  <td id="message">message in a table</td>
                </tr>
                <tr class="collapse out alertDetail1">
                  <td id="inventoryId">inventory ZZZZZZZ</td>
                  <td id="propertyId">false</td>
                  <td id="legacyValue">legacyyyyyyy</td>
                  <td id="newValue">false</td>
                  <td id="message">message in a chair</td>
                </tr>
<!-- //////////// END  //////////////// -->


                <!-- /////// NEXT EVENT [alertDetail2] ////////-->
                <tr>
                  <td><span class="label label-danger">Link down!</span></td>
                  <td>26/01/2014</td>
                  <td>6:51 PM</td>
                  <td><center><button type="button" class="btn btn-primary" data-toggle="collapse" data-target=".alertDetail2">Details</button></center></td>
                </tr>
                <tr id="alDtl2" class="collapse out alertDetail2">
                  <th>Invntory ID</th>
                  <th>Property Id</th>
                  <th>Legacy</th>
                  <th>New value</th>
                  <th>Message</th>
                </tr>
                <tr id="alDtl2" class="collapse out alertDetail2">
                  <td id="inventoryId">inventory XXXXX</td>
                  <td id="propertyId">true</td>
                  <td id="legacyValue">legacyyyyyyy</td>
                  <td id="newValue">false</td>
                  <td id="message">message in a bottle</td>
                </tr>
                <!-- /////// END NEXT EVENT /////-->
              </tbody>
            </table>
          </div>
        </div>    

      </div>
    </div>
  </script>
  <!-- /ALARMS VIEW -->

	<!-- ORGANIZATIONS VIEW -->
	<!-- organizations-list-template -->
	<script type="text/template" id="organizations-list-template">
                <!-- Org LIST column -->
                <div class="col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3">

                  <div class="row">
                    <p><center><a href="#/newOrg">
                      <button type="button" class="btn btn-lg btn-success"><i class="fa fa-pencil"></i>  Create new organization</button>
                    </a></center></p>  
                  </div>

                  <div class="row">
                    <div class="panel panel-primary">

                      <div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-briefcase"></i> Organizations</h3>
                      </div>

                      <div class="panel-body">
                      
                        <div id="OM-orgColumn">

                          <div class="list-group">

                            <!--ORGANIZATIONS LIST-->
                            <% _.each(organizations, function(organization) { %>

                              <a href="#/adminOrgs/<%= organization.get('identifier') %>" class="list-group-item"><span class="badge"><%= organization.get('identifier') %></span> <%= organization.get('name') %> </a>

                            <% }); %>
                          </div>
                        
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
                <!-- /Org LIST column -->     
          </script>
	<!-- /organizations-list-template -->

	<!-- ORGANIZATION DATA TEMPLATE -->
	<!-- orgData View [TOrg] -->
	<script type="text/template" id="organizations-data-template">
              <div class="col-md-12 col-sm-12 slim-flows"> <!-- Org INFO  -->
                <div class="panel panel-primary">
                  <div class="panel-heading">
                    <div class="row">

                      <div class="col-md-4 col-sm-4">
                        <a href="#/adminOrgs">
                          <button type="button" class="btn btn-primary margin-10-left"><i class="fa fa-reply"></i>   Select organization
                          </button>
                        </a>
                      </div>

                      <div class="col-md-4 col-sm-4">
                        <center> <h4> <%= organization.get('name') %> </center> </h4>
                      </div>

                      <div class="col-md-4 col-sm-4"><a href="#/newOrg">
                        <button type="button" class="btn btn-success pull-right"><i class="fa fa-pencil"></i>  Create new organization</button></a>
                      </div>
                    </div>
                  </div>

                  <div class="padding-15"><!-- ORG TABS -->
                    <div class="panel-body padding-0-bot">
                      <div class="row">

                        <div class="row"> <!-- ROW Org.Data + Org.Users + Terminals + Active flows -->  
                          <div class="col-lg-12">
                            <div class="panel margin-0-bot">
                              <div class="tabbable">
                                <ul class="nav nav-pills nav-justified">
                                  <li class="active"><a href="#/adminOrgs/<%= organization.get('identifier') %>" data-toggle=""> <i class="fa fa-edit"></i> Org. Data</a></li>

                                  <li class=""><a href="#/adminUsers/<%= organization.get('identifier') %>" data-toggle=""> <i class="fa fa-group"></i> Org. Users</a></li>
                                  
                                  <li class=""><a href="#/adminTerminals/<%= organization.get('identifier') %>" data-toggle=""> <i class="fa fa-desktop"></i> Terminals</a></li>
                                  <li class=""><a href="#/adminFlows/<%= organization.get('identifier') %>" data-toggle=""> <i class="fa fa-bolt"></i> Active flows</a></li>
                                  <li class=""><a href="#/adminPrgFlows/<%= organization.get('identifier') %>" data-toggle=""> <i class="fa fa-calendar"></i> Programmed flows</a></li>
                                </ul>
                                              
                                <div class="tab-content"><!-- tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->

                                  <div class="tab-pane active" id="orgData"><!-- ROW Org.Data --> 
                                    <div class="row">
                                      <div class="col-lg-12 col-md-12 col-sm-12">
                                        
                                        <div class="panel panel-primary">
                                          <div class="panel-body">

                                            <div id="OM-data">

                                              <form class="form-horizontal well" role="form">

                                                <div class="row">
                                                  <div class="col-lg-6 col-md-6 col-sm-12">

                                                    <div class="form-group ">
                                                      <label for="orgID" class="col-sm-4 control-label">ID</label>
                                                      <h3 id="orgID" class="col-sm-8 margin-0-top margin-0-bot"> <%= organization.get('identifier') %></h3>
                                                    </div>

                                                    <div class="form-group ">
                                                      <label for="orgName" class="col-sm-4 control-label">Name</label>
                                                      <h3 class="col-sm-8 margin-0-top margin-0-bot" id="orgName"> <%= organization.get('name') %> </h3>
                                                    </div>

                                                    <div class="form-group ">
                                                      <label for="orgBankAccount" class="col-sm-4 control-label">Bank Account</label>
                                                      <h4 class="col-sm-8 margin-0-top margin-0-bot" id="orgBankAccount"> <%= organization.get('bankAccount') %></h4>
                                                    </div>
                                                  </div>

                                                  <div class="col-lg-6 col-md-6 col-sm-12">

                                                    <div class="form-group ">
                                                      <label for="orgCif" class="col-sm-4 control-label">CIF</label>
                                                      <h3 class="col-sm-8 margin-0-top margin-0-bot" id="orgCif"> <%= organization.get('NIF') %> </h3>
                                                    </div>

                                                    <div class="form-group ">
                                                      <label for="orgTelephone" class="col-sm-4 control-label">Phone Number</label>
                                                      <h3 class="col-sm-8 margin-0-top margin-0-bot" id="orgTelephone"> <%= organization.get('telephone') %> </h3>
                                                    </div>

                                                    <div class="form-group ">
                                                      <label for="orgIsOam" class="col-sm-4 control-label">is OAM?</label>
                                                      <div class="col-sm-8">
                                                        <input type="checkbox" class="form-control" id="orgIsOam" <%= organization.get('OAM') ? 'checked' : '' %> disabled>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>

                                                <div class="row">    
                                                  <div class="col-lg-12 col-md-12 col-sm-12">     

                                                    <p><center><a href="#/editOrg/<%= organization.get('identifier') %>">
                                                      <button type="button" class="btn btn-lg btn-warning"><i class="fa fa-edit"></i> Edit Organization Data </button></a></center>
                                                    </p>


                                                  </div>
                                                </div>
                                              </form>  

                                            </div>
                  
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div><!-- /ROW Org.Data --> 

                                </div><!-- /tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->
                              </div>
                            </div>
                          </div>
                        </div><!-- /ROW Org.Data + Org.Users + Terminals row -->

                      </div>  <!-- /row-->

                    </div>
                  </div> <!-- /ORG TABS -->

                  <div class="row" id="OM-topo">
                    <div class"col-md-12">
                      <h3 class="margin-0-top"> <center>Logical Topology</center>  </h3>
                      <div>
                        <p class="text-center">
                          <img src="http://placehold.it/500x200">
                        </p>
                      </div>
                    </div>
                  </div>


                </div>
              </div><!-- /ORG INFO --> 
            </script>
	<!-- /TOrg View -->

	<!-- EDIT-CREATE ORG TEMPLATE  -->
	<script type="text/template" id="edit-org-template">

        <div class="panel <%= organization ? 'panel-danger' : 'panel-success' %>">
          <div class="panel-heading">

            <div class="row">

              <div class="col-md-4 col-sm-4">
                <a href="#/adminOrgs<%= organization ? '/'+organization.get('identifier') : '' %>">
                  <button type="button" class="btn btn-primary margin-10-left"><i class="fa fa-reply"></i>   Go back
                  </button>
                </a>
              </div>

              <div class="col-md-4 col-sm-4">
                <h2 class="panel-title"> <center> <%= organization ? 'Edit' : 'Create' %> Organization </center> </h2>
              </div>

              <div class="col-md-4 col-sm-4">
              </div>
            </div>

          </div>

          <div class="panel-body">
            <form class="form-horizontal edit-org-form well" role="form">
              <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-12">
                <% if (organization){ %>
                  <input type="hidden" class="form-control" name="identifier" value="<%= organization.get('identifier') %>" >
                <% } %>
                  <div class="form-group">
                    <label for="name" class="col-sm-4 control-label">Name</label>
                    <div class="col-sm-8">
                      <input type="text" class="form-control" name="name" value="<%= organization ? organization.get('name') : '' %>" >
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="bankAccount" class="col-sm-4 control-label">Bank Account</label>
                    <div class="col-sm-8">
                      <input type="text" class="form-control" name="bankAccount" value="<%= organization ? organization.get('bankAccount') : '' %>"  >
                    </div>
                  </div>

                

                  <div class="form-group">
                    <label for="telephone" class="col-sm-4 control-label">Phone Number</label>
                    <div class="col-sm-8">
                      <input type="text" class="form-control" name="telephone" value="<%= organization ? organization.get('telephone') : '' %>"  >
                    </div>
                  </div>

                </div>

                <div class="col-lg-6 col-md-6 col-sm-12">

                  <div class="form-group">
                    <label for="NIF" class="col-sm-4 control-label">CIF</label>
                    <div class="col-sm-8">
                      <input type="text" class="form-control" name="NIF" value="<%= organization ? organization.get('NIF') : '' %>"  >
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="OAM" class="col-sm-4 control-label">is OAM?</label>
                    <div class="col-sm-8">
                      <input type="checkbox" class="form-control" name="OAM" "
                        <% if(organization){
                            if(organization.get('OAM')) %> checked
                        <%} %>" >
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">    
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <div class="form-group">
                    <center>
                      <button type="submit" class="btn btn-lg <%= organization ? 'btn-warning' : 'btn-success' %> "><%= organization ? '<i class="fa fa-edit"></i> Save changes' : '<i class="fa fa-pencil"></i> Create Organization'%></button>
                      <%= organization ? '<a data-toggle="modal" href="#confirmation" class="btn btn-lg btn-danger"><i class="fa fa-trash-o"></i> Remove organization </a>' : '' %> 
                    </center>
                  </div>
                </div>
              </div>
            </form>  
          </div>
        </div>

        <!-- DELETE ORG Modal -->
          <div class="modal fade" id="confirmation" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                  <h4 class="modal-title">Remove organization <%= organization ? organization.get('name') : '' %></h4>
                </div>
                <div class="modal-body">
                  Are you sure you want to remove <center><h2 class="well"><%= organization ? organization.get('name') : '' %>?</h2> </center> 
                  <br>
                  <%= organization ? organization.get('identifier') : '' %>  
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal" aria-hidden="true"><i class="fa fa-reply"></i> Cancel</button>
                  <button type="button" id="delete-org" class="btn btn-danger delete"><i class="fa fa-trash-o"></i> Remove</button>
                </div>
              </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
          </div><!-- /.modal -->
      </script>
	<!-- /EDIT-CREATE ORG TEMPLATE  -->

	<!-- org USERS View -->
	<script type="text/template" id="organizations-users-template">

                  <div class="col-md-12 col-sm-12 slim-flows"> <!-- Org INFO  -->
                    <div class="panel panel-primary">

                      <div class="panel-heading">
       
                        <div class="row"><!-- HEADER (orgname+buttons) -->

                          <div class="col-md-4 col-sm-4">
                            <a href="#/adminOrgs">
                              <button type="button" class="btn btn-primary margin-10-left"><i class="fa fa-reply"></i>   Select organization
                              </button>
                            </a>
                          </div>


                          <div class="col-md-4 col-sm-4">
                            <center> <h4> <%= orgName %> </center> </h4>
                          </div>


                          <div class="col-md-4 col-sm-4"><a href="#/newOrg">
                            <button type="button" class="btn btn-success pull-right"><i class="fa fa-pencil"></i>  Create new organization</button></a>
                          </div>

                        </div><!-- /HEADER (orgname+buttons) -->
                      </div>

                      <div class="padding-15"><!-- ORG TABS -->
                        <div class="panel-body padding-0-bot">
                          <div class="row">

                            <div class="row"> <!-- ROW Org.Data + Org.Users + Terminals + Active flows -->  
                              <div class="col-lg-12">
                                <div class="panel margin-0-bot">
                                  <div class="tabbable">

                                    <ul class="nav nav-pills nav-justified">
                                      <li class=""><a href="#/adminOrgs/<%= orgId %>" data-toggle=""> <i class="fa fa-edit"></i> Org. Data</a></li>

                                      <li class="active"><a href="#/adminUsers/<%= orgId %>" data-toggle="tab"> <i class="fa fa-group"></i> Org. Users</a></li>
                                      
                                      <li class=""><a href="#/adminTerminals/<%= orgId %>" data-toggle=""> <i class="fa fa-desktop"></i> Terminals</a></li>
                                      <li class=""><a href="#/adminFlows/<%= orgId %>" data-toggle=""> <i class="fa fa-bolt"></i> Active flows</a></li>
                                      <li class=""><a href="#/adminPrgFlows/<%= orgId %>" data-toggle=""> <i class="fa fa-calendar"></i> Programmed flows</a></li>
                                    </ul>
                                                  
                                    <div class="tab-content"><!-- tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->

                                      <div class="tab-pane active" id="users"><!-- Org.Users -->       
                                        <div class="row">
                                          <div class="col-lg-12 col-md-12 col-sm-12">
                                            
                                            <div class="panel panel-primary">
                                              <div class="panel-body">

                                                <a href="#/newUser/<%= orgId %>">
                                                  <div class="padding-10-bot">
                                                    <button type="button" class="btn btn-success btn-lg"><i class="fa fa-user"></i> ADD user</button>
                                                  </div>
                                                </a>


                                                <div id="OM-users">

                                                  <div class="table-responsive">
                                                      <table class="table table-bordered table-hover table-striped tablesorter">
                                                        <thead>
                                                          <tr>
                                                            <th>ID <i class="fa fa-sort"></i></th>
                                                            <th>Name <i class="fa fa-sort"></i></th>
                                                            <th>e-mail <i class="fa fa-sort"></i></th>
                                                            <th>Admin? <i class="fa fa-sort"></i></th>
                                                            <th>Telephone <i class="fa fa-sort"></i></th>
                                                            <th>Edit <i class="fa fa-edit"></i></th>
                                                          </tr>
                                                        </thead>
                                                        <tbody >

                                                          <% _.each(users, function(user) { 
                                                            if(user.get('active')==true){ %>
                                                           

                                                           <tr>
                                                            <td><%= user.get('identifier') %></td>                
                                                            <td><%= user.get('name') %></td>
                                                            <td><%= user.get('email') %></td>
                                                            <td><%= user.get('admin') %></td>
                                                            <td><%= user.get('telephone') %></td>
                                                            <td>
                                                              <a href="#/editUser/<%= orgId %>/<%= user.get('identifier') %>">
                                                                <button type="button" class="btn btn-warning ">Edit
                                                                </button>
                                                              </a>
                                                            </td>
                                                          </tr>

                                                        
                                                          <%  }
                                                            }); %>
                                                            

                                                        </tbody>

                                                      </table>
                                                  </div>
                                          
                                                </div>
                      
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div><!-- /Org.Users -->  

                                    </div><!-- /tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->
                                  </div>
                                </div>
                              </div>
                            </div><!-- /ROW Org.Data + Org.Users + Terminals row -->

                          </div>  <!-- /row-->

                        </div>
                      </div> <!-- /ORG TABS -->

                      <div class="row" id="OM-topo">
                        <div class"col-md-12">
                          <h3 class="margin-0-top"> <center>Logical Topology</center>  </h3>
                          <div>
                            <p class="text-center">
                              <img src="http://placehold.it/500x200">
                            </p>
                          </div>
                        </div>
                      </div>


                    </div>
                  </div><!-- /ORG INFO --> 
            </script>
	<!-- /org USERS View -->

	<!-- org TERMINALS -->
	<script type="text/template" id="organizations-terminals-template">

              <div class="col-md-12 col-sm-12 slim-flows"> <!-- Org INFO  -->
                <div class="panel panel-primary">

                  <div class="panel-heading">
       
                        <div class="row"><!-- HEADER (orgname+buttons) -->

                          <div class="col-md-4 col-sm-4">
                            <a href="#/adminOrgs">
                              <button type="button" class="btn btn-primary margin-10-left"><i class="fa fa-reply"></i>   Select organization
                              </button>
                            </a>
                          </div>

                          <div class="col-md-4 col-sm-4">
                            <center> <h4> <%= orgName %> </center> </h4>
                          </div>

                          <div class="col-md-4 col-sm-4"><a href="#/newOrg">
                            <button type="button" class="btn btn-success pull-right"><i class="fa fa-pencil"></i>  Create new organization</button></a>
                          </div>
                        </div><!-- /HEADER (orgname+buttons) -->
                      </div>

                  <div class="padding-15"><!-- ORG TABS -->
                    <div class="panel-body padding-0-bot">
                      <div class="row">

                        <div class="row"> <!-- ROW Org.Data + Org.Users + Terminals + Active flows -->  
                          <div class="col-lg-12">
                            <div class="panel margin-0-bot">
                              <div class="tabbable">

                                <ul class="nav nav-pills nav-justified">
                                      <li class=""><a href="#/adminOrgs/<%= orgId %>" data-toggle=""> <i class="fa fa-edit"></i> Org. Data</a></li>

                                      <li class=""><a href="#/adminUsers/<%= orgId %>" data-toggle=""> <i class="fa fa-group"></i> Org. Users</a></li>
                                      
                                      <li class="active"><a href="#/adminTerminals/<%= orgId %>" data-toggle=""> <i class="fa fa-desktop"></i> Terminals</a></li>
                                      <li class=""><a href="#/adminFlows/<%= orgId %>" data-toggle=""> <i class="fa fa-bolt"></i> Active flows</a></li>
                                      <li class=""><a href="#/adminPrgFlows/<%= orgId %>" data-toggle=""> <i class="fa fa-calendar"></i> Programmed flows</a></li>
                                    </ul>
                                              
                                <div class="tab-content"><!-- tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->

                                  <div class="tab-pane active" id="aPoints"><!-- Terminals -->       
                                    <div class="row">
                                      <div class="col-lg-12 col-md-12 col-sm-12">
                      
                                        <!-- Active Terminals -->
                                        <div class="panel panel-primary">
                                          <div class="panel-body">
                                            <div id="OM-ap">
                                              <div class="table-responsive">
                                                <table class="table table-bordered table-hover table-striped tablesorter">
                                                 
                                                  <thead>
                                                    <tr>
                                                      <th>Host name <i class="fa fa-sort"></i></th>
                                                      <th>ID <i class="fa fa-sort"></i></th>
                                                      <th>Description <i class="fa fa-sort"></i></th>
                                                      <th>IP <i class="fa fa-sort"></i></th>
                                                      <th>Interface <i class="fa fa-sort"></i></th>
                                                      <th>MAC <i class="fa fa-sort"></i></th>
                                                      <th><center><i class="fa fa-edit"></i></center></th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>

                                                    <% _.each(terminals, function(terminal) { 
                                                      if(terminal.get('active')==true){ %>

                                                      <tr>
                                                        <td><%= terminal.get('hostName') %></td>
                                                        <td><%= terminal.get('identifier') %></td>
                                                        <td><%= terminal.get('description') %></td>
                                                        <td><%= terminal.get('ipAddress') %></td>
                                                        <td><%= terminal.get('ifaceSpeed') %></td>
                                                        <td><%= terminal.get('mac') %></td>
                                                        <td><center><a href="#/editTerminalOrg/<%= orgId %>/<%= terminal.get('identifier') %>"><button type="button" class="btn btn-warning btn-sm">Edit</button></a></center></td>
                                                      </tr>

                                                    <%  }
                                                    }); %>
                                                  </tbody>

                                                </table>
                                              </div>
                                            </div>
                  
                                          </div>
                                        </div><!-- /Active Terminals -->
                                      </div>
                                    </div>
                                  </div><!-- /Terminals --> 
                                  


                                </div><!-- /tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->
                              </div>
                            </div>
                          </div>
                        </div><!-- /ROW Org.Data + Org.Users + Terminals row -->

                      </div>  <!-- /row-->

                    </div>
                  </div> <!-- /ORG TABS -->

                  <div class="row" id="OM-topo">
                    <div class"col-md-12">
                      <h3 class="margin-0-top"> <center>Logical Topology</center>  </h3>
                      <div>
                        <p class="text-center">
                          <img src="http://placehold.it/500x200">
                        </p>
                      </div>

                    </div>
                  </div>


                </div>
              </div><!-- /ORG INFO --> 

            </script>
	<!-- /org TERMINALS -->

	<!-- org FLOWS -->
	<script type="text/template" id="organizations-flows-template">

              <div class="col-md-12 col-sm-12 slim-flows"> <!-- Org INFO  -->
                <div class="panel panel-primary">

                  <div class="panel-heading">
       
                        <div class="row"><!-- HEADER (orgname+buttons) -->

                          <div class="col-md-4 col-sm-4">
                            <a href="#/adminOrgs">
                              <button type="button" class="btn btn-primary margin-10-left"><i class="fa fa-reply"></i>   Select organization
                              </button>
                            </a>
                          </div>

                          <div class="col-md-4 col-sm-4">
                            <center> <h4> <%= orgName %> </center> </h4>
                          </div>

                          <div class="col-md-4 col-sm-4">
                            <a href="#/newOrg">
                              <button type="button" class="btn btn-success pull-right"><i class="fa fa-pencil"></i>  Create new organization</button>
                            </a>
                          </div>
                        </div><!-- /HEADER (orgname+buttons) -->
                      </div>

                  <div class="padding-15"><!-- ORG TABS -->
                    <div class="panel-body padding-0-bot">
                      <div class="row">

                        <div class="row"> <!-- ROW Org.Data + Org.Users + Terminals + Active flows -->  
                          <div class="col-lg-12">
                            <div class="panel margin-0-bot">
                              <div class="tabbable">

                                <ul class="nav nav-pills nav-justified">
                                      <li class=""><a href="#/adminOrgs/<%= orgId %>" data-toggle=""> <i class="fa fa-edit"></i> Org. Data</a></li>

                                      <li class=""><a href="#/adminUsers/<%= orgId %>" data-toggle=""> <i class="fa fa-group"></i> Org. Users</a></li>
                                      
                                      <li class=""><a href="#/adminTerminals/<%= orgId %>" data-toggle=""> <i class="fa fa-desktop"></i> Terminals</a></li>
                                      <li class="<% if(active==true){%> active <%}%>"><a href="#/adminFlows/<%= orgId %>" data-toggle=""> <i class="fa fa-bolt"></i> Active flows</a></li>
                                      <li class="<% if(active==false){%> active <%}%>"><a href="#/adminPrgFlows/<%= orgId %>" data-toggle=""> <i class="fa fa-calendar"></i> Programmed flows</a></li>
                                    </ul>
                                              
                                <div class="tab-content"><!-- tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->


                                  <div class="tab-pane active" id="activeFlows"><!-- ACTIVE Flows -->       
                                    <div class="row">
                                      <div class="col-lg-12 col-md-12 col-sm-12">
                                        
                                        <div class="panel panel-primary">
                                          <div class="panel-body">
                                            <div class="padding-10-bot">
                                              <a href="#/newFlow/<%= orgId %>"><button class="btn btn-success"> Create new FLOW for <%= orgName %></button></a>
                                            </div>



                                            <div id="FLW-prg">
                                              <div class="table-responsive">
                                                <table class="table table-bordered table-hover table-striped tablesorter">
                                                  <thead>
                                                    <tr>
                                                      <th>Flow ID <i class="fa fa-sort"></i></th>
                                                      <th>Name <i class="fa fa-sort"></i></th>
                                                      <th>From <i class="fa fa-sort"></i></th>
                                                      <th>To <i class="fa fa-sort"></i></th>
                                                      <th>Bandwidth <i class="fa fa-sort"></i></th>
                                                      <th>SRC Port <i class="fa fa-sort"></i></th>
                                                      <th>DST Port <i class="fa fa-sort"></i></th>
                                                      <th>Protocol <i class="fa fa-sort"></i></th>
                                                      <th>QoS <i class="fa fa-sort"></i></th>
                                                      <th><center><i class="fa fa-edit"></i></center></th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>

                                                    <% if(active == true){ 
                                                          _.each(flows, function(flow) { 
                                                            if(flow.get('active')==true){ %>

                                                      <tr>
                                                        <td><%= flow.get('identifier') %></td>                
                                                        <td><%= flow.get('name') %></td>
                                                        <td><%= flow.get('srcOTidentifier') %></td>
                                                        <td><%= flow.get('dstOTidentifier') %></td>
                                                        <td><%= flow.get('bandwidth') %></td>
                                                        <td><%= flow.get('srcPort') %></td>
                                                        <td><%= flow.get('dstPort') %></td>
                                                        <td><%= flow.get('protocol') %></td>
                                                        <td><%= flow.get('qos') %></td>
                                                        <td><center><a href="#"><button class="btn btn-warning btn-sm" >Edit</button></a></center></td>
                                                      </tr>

                                                    <%      }
                                                          
                                                          }); 
                                                        }else{
                                                          _.each(flows, function(flow) { 
                                                            if(flow.get('active')==false){ %>

                                                              <tr>
                                                                <td><%= flow.get('identifier') %></td>                
                                                                <td><%= flow.get('name') %></td>
                                                                <td><%= flow.get('srcOTidentifier') %></td>
                                                                <td><%= flow.get('dstOTidentifier') %></td>
                                                                <td><%= flow.get('bandwidth') %></td>
                                                                <td><%= flow.get('srcPort') %></td>
                                                                <td><%= flow.get('dstPort') %></td>
                                                                <td><%= flow.get('protocol') %></td>
                                                                <td><%= flow.get('qos') %></td>
                                                                <td><center><a href="#"><button class="btn btn-warning btn-sm" >Edit</button></a></center></td>
                                                              </tr>

                                                          <% }
                                                          });
                                                        }%>

                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                  
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div><!-- /ACTIVE Flows -->  


                                </div><!-- /tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->
                              </div>
                            </div>
                          </div>
                        </div><!-- /ROW Org.Data + Org.Users + Terminals row -->

                      </div>  <!-- /row-->

                    </div>
                  </div> <!-- /ORG TABS -->

                  <div class="row" id="OM-topo">
                    <div class"col-md-12">
                      <h3 class="margin-0-top"> <center>Logical Topology</center>  </h3>
                      <div>
                        <p class="text-center">
                          <img src="http://placehold.it/500x200">
                        </p>
                      </div>
                    </div>
                  </div>


                </div>
              </div><!-- /ORG INFO --> 
            </script>
	<!-- /org FLOWS -->

	<!-- /ORGANIZATION DATA TEMPLATE -->
	<!-- /ORGANIZATIONS VIEW -->



	<!-- TERMINALS VIEW -->
	<script type="text/template" id="terminals-template">
      <div class="row"><!-- Acccess Points -->
        <div class="col-sm-12">

          <div class="panel panel-warning"><!-- UNASSIGNED Terminals -->
            <div class="panel-heading">
              <h3 class="panel-title"><i class="fa fa-desktop"></i> Unassigned Terminals</h3>
            </div>
            <div class="panel-body">

              <div id="un-AP">
                <div class="table-responsive">
                  <table class="table table-bordered table-hover table-striped tablesorter">
                   
                    <thead>
                      <tr>
                        <th>ID <i class="fa fa-sort"></i></th>
                        <th>IP <i class="fa fa-sort"></i></th>
                        <th>Interface <i class="fa fa-sort"></i></th>
                        <th>MAC <i class="fa fa-sort"></i></th>
  					  <th><center> Assign Organization <i class="fa fa-edit"></i></center></th>
                      </tr>
                    </thead>
                    <tbody>

                      <% _.each(terminals, function(terminal) { 
                        if(terminal.get('assigned')==false){ %>

                        <tr>
                          <td><%= terminal.get('identifier') %></td>
                          <td><%= terminal.get('ipAddress') %></td>
                          <td><%= terminal.get('ifaceSpeed') %></td>
                          <td><%= terminal.get('mac') %></td>
                          <td> 

                            <center>
                              <div class="btn-group dropdown">
                                <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" id="assignOrg" onclick="copyTo(this);">
                                  Assign organization
                                  <span class="caret"></span>
                                </button>

                              <ul class="dropdown-menu">
                                <div class="listScroll"> 
                                  <% _.each(organizations, function(org) { %>

                                    <a data-toggle="modal" href="#confirmationOrgAssign" class='assignationModal list-group-item' 
                                        id="infoAssignation" 
                                        data-id="<%= terminal.get('identifier') %>" 
                                        data-orgname="<%= org.get('name') %>" 
                                        data-orgid="<%= org.get('identifier') %>" 
                                        data-terminaladdress="<%= terminal.get('ipAddress') %>" 
                                        data-terminalname="<%= terminal.get('name') %>" 
                                        data-terminaliface="<%= terminal.get('ifaceSpeed') %>" 
                                        data-terminalmac="<%= terminal.get('mac') %>">
                                        <span class="badge"><%= org.get('identifier') %></span> <%= org.get('name') %></a>
      
                                  <% }); %>
                                </div>
                              </ul>
                            </center>

                          </td>
                        </tr>
                      <%  }
                      }); %>
                    </tbody>

                  </table>
                </div>
              </div>

            </div>
          </div><!-- /UNASSIGNED Terminals -->

          <div class="panel panel-primary"><!-- ACTIVE Terminals -->
          
            <div class="panel-heading">
              <h3 class="panel-title"><i class="fa fa-desktop"></i> Active terminals</h3>
            </div>

            <div class="panel-body">
              <div class="table-responsive" id="AP">
                <table class="table table-bordered table-hover table-striped tablesorter">
                  <thead>
                    <tr>
                      <th>Host name <i class="fa fa-sort"></i></th>
                      <th>ID <i class="fa fa-sort"></i></th>
                      <th>Description <i class="fa fa-sort"></i></th>
                      <th>IP <i class="fa fa-sort"></i></th>
                      <th>Interface <i class="fa fa-sort"></i></th>
                      <th>MAC <i class="fa fa-sort"></i></th>
                      <th><center><i class="fa fa-edit"></i></center></th>
                    </tr>
                  </thead>
                  <tbody>

                    <% _.each(terminals, function(terminal) { 
                      if(terminal.get('active')==true){ %>

                      <tr>
                        <td><%= terminal.get('hostName') %></td>
                        <td><%= terminal.get('identifier') %></td>
                        <td><%= terminal.get('description') %></td>
                        <td><%= terminal.get('ipAddress') %></td>
                        <td><%= terminal.get('ifaceSpeed') %></td>
                        <td><%= terminal.get('mac') %></td>  <!-- <%= terminal.get('orgId') %> -->
                        <td><center><a href="#/editTerminal/orgId9/<%= terminal.get('identifier') %>"><button type="button" class="btn btn-warning btn-sm">Edit terminal</button></a></center></td>
                      </tr>

                    <%  }
                    }); %>
                  </tbody>
                </table>
              </div>              
            </div>      
          </div><!-- /ACTIVE Terminals -->

        </div>
      </div><!-- /Terminals -->

        <!-- ASSIGN ORG MODAL -->
        <div class="modal fade" id="confirmationOrgAssign" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                 <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                 <h4 class="modal-title">Assign organization to terminal</h4>
              </div>

              <div class="modal-body">

                <form class="form-horizontal assign-term-form well" role="form">

                   Are you sure you want to assign terminal:
                   <hr>
                   <center>
                     <h4 id="terminalIdLabel" style="display: inline;"></h4>   to organization:   
                     <h4 id="terminalOrgLabel" style="display: inline;"></h4> ? 
                     <hr>

                     <label>Name: </label> <p> <h3 id="terminalNameLabel" style="display: inline;"></h3>
                     <hr>
                   </center>

                   
                  <!-- name is the the name in the object, must be equal to the stipuled JSON -->
                  <!-- id its used to connect html elements with JS  --> 
                   <input type="hidden" name="terminalId" id="terminalId" value="" readonly />

                   <input type="hidden" name="orgName" id="orgName" value="" readonly/> 
                   You <b>MUST</b> specify a name for this terminal:   <input type="text" onkeyup="copyTo(this)" name="hostName" id="terminalName" value="" required/> <br><br>
                   and you can also add a description: <br> <input type="text" name="description" id="description" size="72" value=""/>

                   <input type="hidden" name="orgId" id="orgId" value=""/>
                   <input type="hidden" name="ipAddress" id="terminalIP" value=""/>
                   <input type="hidden" name="mac" id="terminalMac" value=""/>
                   <input type="hidden" name="ifaceSpeed" id="terminalSpeed" value=""/>
              
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-reply"></i> Cancel</button>
                <button type="submit" id="assign-terminal" class="btn btn-success"><i class="fa fa-link"></i> Assign terminal</button>

                </form>
               </div>
             </div><!-- /.modal-content -->
           </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
    </script>
	<!-- /TERMINALS VIEW -->

	<!-- TRAFFIC VIEW -->
	<script type="text/template" id="traffic-template">
            <div class="row"> <!-- Traffic Matrix -->
              <div class="col-lg-12">

                <div class="panel panel-primary">
                
                  <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-th"></i> Traffic Matrix</h3>
                  </div>

                  <div class="panel-body" id="tMatrixTAB">
               		<center>
                    <div id="Tmatrix">
                    </div>
					</center>
                  </div>

                </div>
              </div>
            </div><!-- /Traffic Matrix -->
        </script>
	<!-- /TRAFFIC VIEW -->
	<!-- /ADMIN TEMPLATES -->

	<!-- CLIENT TEMPLATES -->
	<!-- CLIENT OVERVIEW-->
	<script type="text/template" id="client-overview-template">
          <div class="col-md-12 col-sm-12 slim-flows"> 
              <div class="panel panel-primary">
                <div class="panel-heading">
                  <h3 class="panel-title"> <center> <%= organization ? organization.get('name') : 'Fill the fields below' %> </center> </h3>
                </div>

                  <div class="panel-body">

                    <div id="client-OV">
                      <div class="table-responsive">
                        <table class="table table-bordered table-hover table-striped tablesorter">
                          <thead>
                            <tr>
                              <th><center><h3>Active nodes</h3></center>    </i></th>
                              <th><center><h3>Active flows</h3></center>    </i></th>
                              <th><center><h3>Programmed flows</h3></center></i></th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td><center><h3> <%= cntActiveTerms %>  </h3></center></td>
                              <td><center><h3> <%= cntActiveFlows %>  </h3></center></td>
                              <td><center><h3> <%= cntPrgFlows %>  </h3></center></td>
                            </tr>
                          </tbody>
                        </table>
                      </div>                                    
                    
                      <div class="row">
                        <div class"col-md-12">
                          <h3> <center>Logical Topology</center>  </h3>
                          <div>
                            <p class="text-center">
                              <img src="http://placehold.it/500x300">
                            </p>
                          </div>
                        </div>
                      </div>

                    </div>

                  </div>
                
              </div>
          </div>
        </script>
	<!-- /CLIENT OVERVIEW-->

	<!-- CLIENT ORG DATA -->
	<script type="text/template" id="client-data-template">
      <div class="col-md-12 col-sm-12 slim-flows"> 
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title"> <center> <%= activeOrgName %> </center> </h3>
              </div>

                <div class="panel-body">
                  <div class="row padding-10">

                    <div class="row"> <!-- ROW Org.Data + Org.Users -->  
                      <div class="col-lg-12">
                        <div class="panel">
                          <div class="tabbable">
                            <ul class="nav nav-pills nav-justified">
                              <li class="active"><a href="#/clientOrgData/<%= loginOrg %>" data-toggle=""> <i class="fa fa-briefcase"></i> Organization Data</a></li>
                              <li class=""><a href="#/clientOrgUsers/<%= loginOrg %>" data-toggle=""> <i class="fa fa-group"></i> Organization Users</a></li>
                            </ul>
                                          
                            <div class="tab-content"><!-- tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->

                              <div class="tab-pane active" id="orgData"><!-- ROW Org.Data --> 
                                <div class="row">
                                  <div class="col-lg-12 col-md-12 col-sm-12">
                                    
                                    <div class="panel panel-primary">
                                      <div class="panel-body">

                                        <div id="client-data">

                                          <form class="form-horizontal" role="form">

                                            <div class="row">
                                              <div class="col-lg-6 col-md-6 col-sm-12">

                                                <div class="form-group">
                                                  <label for="orgID" class="col-sm-4 control-label">ID</label>
                                                  <div class="col-sm-8">
                                                    <input type="text" class="form-control" id="orgID" value="<%= organization ? organization.get('identifier') : '' %>" placeholder="orgID" disabled>
                                                  </div>
                                                </div>

                                                <div class="form-group">
                                                  <label for="orgName" class="col-sm-4 control-label">Name</label>
                                                  <div class="col-sm-8">
                                                    <input type="text" class="form-control" id="orgName" value="<%= organization ? organization.get('name') : '' %>" placeholder="Ikea" disabled>
                                                  </div>
                                                </div>

                                                <div class="form-group">
                                                  <label for="orgBankAccount" class="col-sm-4 control-label">Bank Account</label>
                                                  <div class="col-sm-8">
                                                    <input type="text" class="form-control" id="orgBankAccount" value="<%= organization ? organization.get('bankAccount') : '' %>" placeholder="46475956605938294" disabled>
                                                  </div>
                                                </div>
                                              </div>

                                              <div class="col-lg-6 col-md-6 col-sm-12">

                                                <div class="form-group">
                                                  <label for="orgCif" class="col-sm-4 control-label">CIF</label>
                                                  <div class="col-sm-8">
                                                    <input type="text" class="form-control" id="orgCif" value="<%= organization ? organization.get('NIF') : '' %>" placeholder="34957684" disabled>
                                                  </div>
                                                </div>

                                                <div class="form-group">
                                                  <label for="orgPassword" class="col-sm-4 control-label">Password</label>
                                                  <div class="col-sm-8">
                                                    <input type="password" class="form-control" id="orgPassword" placeholder="*********" disabled>
                                                  </div>
                                                </div>

                                                <div class="form-group">
                                                  <label for="orgIsOam" class="col-sm-4 control-label">is OAM?</label>
                                                  <div class="col-sm-8">
                                                    <input type="checkbox" class="form-control" id="orgIsOam" checked="<%= organization.get('OAM') %>" disabled>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>

                                            <div class="row">    
                                              <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="form-group">
                                                  <center><button type="submit" class="btn btn-warning btn-lg">Edit Data</button></center>
                                                </div>
                                              </div>
                                            </div>
                                          </form>  

                                        </div>
              
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div><!-- /ROW Org.Data --> 



                            </div><!-- /tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->
                          
                          </div>
                        </div>
                      </div>
                    </div><!-- /ROW Org.Data + Org.Users -->

                  </div>  <!-- /row-->
                </div>
              
            </div>
      </div>
        </script>
	<!-- /CLIENT ORG DATA -->

	<!-- CLIENT USERS DATA -->
	<script type="text/template" id="client-users-template">
          <div class="col-md-12 col-sm-12 slim-flows"> 
                <div class="panel panel-primary">
                  <div class="panel-heading">
                    <h3 class="panel-title"> <center> <%= orgName %> </center></h3>
                  </div>

                    <div class="panel-body">
                      <div class="row padding-10">

                        <div class="row"> <!-- ROW Org.Data + Org.Users -->  
                          <div class="col-lg-12">
                            <div class="panel">
                              <div class="tabbable">
                                <ul class="nav nav-pills nav-justified">
                                  <li class=""><a href="#/clientOrgData/<%= loginOrg %>" data-toggle=""> <i class="fa fa-briefcase"></i> Organization Data</a></li>
                                  <li class="active"><a href="#/clientOrgUsers/<%= loginOrg %>" data-toggle=""> <i class="fa fa-group"></i> Organization Users</a></li>
                                </ul>
                                              
                                <div class="tab-content"><!-- tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->

                                  <div class="tab-pane active" id="users"><!-- Org.Users -->       
                                    <div class="row">
                                      <div class="col-lg-12 col-md-12 col-sm-12">
                                        
                                        <div class="panel panel-primary">
                                          <div class="panel-body">
                                            <div id="client-users">
                                              <div>
                                                <button type="button" class="btn btn-success btn-lg"><i class="fa fa-user"></i> ADD user</button>
                                                <br>
                                                <br>
                                              </div>

                                              <div class="table-responsive">
                                                <table class="table table-bordered table-hover table-striped tablesorter">
                                                    <thead>
                                                      <tr>
                                                        <th>ID <i class="fa fa-sort"></i></th>
                                                        <th>Name <i class="fa fa-sort"></i></th>
                                                        <th>e-mail <i class="fa fa-sort"></i></th>
                                                        <th>Admin? <i class="fa fa-sort"></i></th>
                                                        <th>Telephone <i class="fa fa-sort"></i></th>
                                                      </tr>
                                                    </thead>
                                                    <tbody >

                                                      <% _.each(users, function(user) { 
                                                        if(user.get('active')==true){ %>
                                                       

                                                       <tr>
                                                        <td><%= user.get('identifier') %></td>                
                                                        <td><%= user.get('name') %></td>
                                                        <td><%= user.get('email') %></td>
                                                        <td><%= user.get('admin') %></td>
                                                        <td><%= user.get('telephone') %></td>
                                                      </tr>

                                                    
                                                      <%  }
                                                        }); %>
                                                        

                                                    </tbody>

                                                </table>
                                              </div>

                                            </div>
                                          </div>                                      
                                        </div>
                                      </div>
                                    </div>
                                  </div><!-- /Org.Users -->  

                                </div><!-- /tabs ROW Org.Data + Org.Users + Terminals + Active flows content -->
                              
                              </div>
                            </div>
                          </div>
                        </div><!-- /ROW Org.Data + Org.Users -->

                      </div>  <!-- /row-->
                    </div>
                  
                </div>
          </div>
        </script>
	<!-- /CLIENT USERS DATA -->
	<!-- /CLIENT TEMPLATES -->

	<!-- SHARED TEMPLATES -->

    <!-- FLOWS VIEW -->
    <script type="text/template" id="flows-template">
      <div class="padding-10-bot">
        <a href="#/newFlow<%= admin ? 'Admin' : '' %>/<%= loginOrg %>"><button class="btn btn-success"> Create new FLOW  </button></a>
      </div>

      <div class="row"><!-- Active FLOWS -->
        <div class="col-sm-12">
          <div class="panel panel-success">    
            <div class="panel-heading">
              <h3 class="panel-title"><i class="fa fa-bolt"></i> Active flows</h3>
            </div>
            <div class="panel-body">
              <div id="FLW-active">
                <div class="table-responsive">
                  <table class="table table-bordered table-hover table-striped tablesorter">
                    <thead>
                      <tr>
                        <th>Flow ID <i class="fa fa-sort"></i></th>
                        <th>Name <i class="fa fa-sort"></i></th>
                        <th>From <i class="fa fa-sort"></i></th>
                        <th>To <i class="fa fa-sort"></i></th>
                        <th>Bandwidth <i class="fa fa-sort"></i></th>
                        <th>SRC Port <i class="fa fa-sort"></i></th>
                        <th>DST Port <i class="fa fa-sort"></i></th>
                        <th>Protocol <i class="fa fa-sort"></i></th>
                        <th>QoS <i class="fa fa-sort"></i></th>
                        <th><center><i class="fa fa-bar-chart-o"></i></center></th>
                        <th><center><i class="fa fa-edit"></i></center></th>
                      </tr>
                    </thead>
                    <tbody>

                      <% _.each(flows, function(flow) { 
                          if(flow.get('active')==true){ %>
                      
                        <tr>
                          <td><%= flow.get('identifier') %></td>                
                          <td><%= flow.get('name') %></td>
                          <td><%= flow.get('srcOTidentifier') %></td>
                          <td><%= flow.get('dstOTidentifier') %></td>
                          <td><%= flow.get('bandwidth') %></td>
                          <td><%= flow.get('srcPort') %></td>
                          <td><%= flow.get('dstPort') %></td>
                          <td><%= flow.get('protocol') %></td>
                          <td><%= flow.get('qos') %></td>
                          <td><center><a href=""><button class="btn btn-info btn-sm" >Statistics</button></a></center></td>
                          <td><center><a href="#/editFlow<%= admin ? 'Admin' : '' %>/<%= orgId %>/<%= flow.get('identifier') %>"><button class="btn btn-warning btn-sm" >Edit</button></a></center></td>
                        </tr>

                      <%  }
                        }); %>
                    
                    </tbody>
                  </table>
                </div>
              </div>
            </div>             
          </div>
        </div>
      </div><!-- /Active FLOWS -->

      <div class="row"><!-- Programmed FLOWS -->
        <div class="col-sm-12">
          <div class="panel panel-primary">    
            <div class="panel-heading">
              <h3 class="panel-title"><i class="fa fa-calendar"></i> Programmed flows</h3>
            </div>
            <div class="panel-body">
              <div id="FLW-prg">
                <div class="table-responsive">
                  <table class="table table-bordered table-hover table-striped tablesorter">
                    <thead>
                      <tr>
                        <th>Flow ID <i class="fa fa-sort"></i></th>
                        <th>Name <i class="fa fa-sort"></i></th>
                        <th>From <i class="fa fa-sort"></i></th>
                        <th>To <i class="fa fa-sort"></i></th>
                        <th>Bandwidth <i class="fa fa-sort"></i></th>
                        <th>SRC Port <i class="fa fa-sort"></i></th>
                        <th>DST Port <i class="fa fa-sort"></i></th>
                        <th>Protocol <i class="fa fa-sort"></i></th>
                        <th>QoS <i class="fa fa-sort"></i></th>
                        <th><center><i class="fa fa-edit"></i></center></th>
                      </tr>
                    </thead>
                    <tbody>

                      <% _.each(flows, function(flow) { 
                          if(flow.get('active')==false){ %>

                        <tr>
                          <td><%= flow.get('identifier') %></td>                
                          <td><%= flow.get('name') %></td>
                          <td><%= flow.get('srcOTidentifier') %></td>
                          <td><%= flow.get('dstOTidentifier') %></td>
                          <td><%= flow.get('bandwidth') %></td>
                          <td><%= flow.get('srcPort') %></td>
                          <td><%= flow.get('dstPort') %></td>
                          <td><%= flow.get('protocol') %></td>
                          <td><%= flow.get('qos') %></td>
                          <td><center><a href="#/editFlow<%= admin ? 'Admin' : '' %>/<%= orgId %>/<%= flow.get('identifier') %>"><button class="btn btn-warning btn-sm" >Edit</button></a></center></td>
                        </tr>

                      <%  }
                        }); %>

                    </tbody>
                  </table>
                </div>
              </div>
            </div>             
          </div>
        </div>
      </div><!-- /Programmed FLOWS -->
    </script>
    <!-- /FLOWS VIEW -->

  	<!-- NEW FLOW TEMPLATE -->
  	<script type="text/template" id="new-flow-template">
        <div class="col-md-12 col-sm-12 slim-flows"> 
              <div class="panel <%= flow ? 'panel-warning' : 'panel-danger' %>">

                <div class="panel-heading">
                  <div class="row">

                    <div class="col-md-4 col-sm-4">
                      <a href="#<%= admin ? 'adminFlows' : 'adminFlows/'+orgId  %>">
                        <button type="button" class="btn btn-primary margin-10-left"><i class="fa fa-reply"></i>   Go back
                        </button>
                      </a>
                    </div>

                    <div class="col-md-4 col-sm-4">
                      <h3 class="panel-title"> <center> <%= flow ? 'EDIT FLOW '+flow.get('name') : 'CREATE NEW FLOW' %> </center></h3>
                    </div>

                    <div class="col-md-4 col-sm-4">
                    </div>
                  </div>

                </div>

                  <div class="panel-body">

                    <form class="new-flow-form well">
                    
                      <div class="row">
                        <!-- if admin we allow to select organization for this flow-->
                        <% if(admin){ %>
                          <div class="col-sm-12 col-md-12 col-lg-12">
                            
                            <div class="form-group"><!-- ORGANIZATION -->
                              <label for="orgId" class="col-sm-2 control-label">Organization</label>
                              <div class="col-sm-10">
                                <select class="form-control" name="orgId" id="selectOrg" onchange="fetchTerminals(this)">
                                  <div class="listScroll"> 
                                    <option name="orgId" value="<%= loginOrg %>" required> <%= loginOrgName %> </option>
                                    
                                    <% _.each(organizations, function(organization) { %>

                                      <option value="<%= organization.get('identifier') %>" name="orgId"><%= organization.get('name') %></option>

                                    <% }); %>
                                  </div>

                                </select><br>
                              </div>  
                            </div>
                          </div>
                        <% }else{ %>
                        <input type="hidden" name="orgId" value="<%= orgId %>" />
                          <% } %>
                        <div class="col-sm-6 col-md-6 col-lg-6">

                          <div class="form-group"><!-- NAME -->
                            <label for="name" class="col-sm-4 control-label">Flow Name</label>
                            <div class="col-sm-8">
                              <input type="text" class="form-control" name="name" value="" required><br>
                            </div>
                          </div>

                          <div class="form-group"><!-- SOURCE -->
                            <label for="srcTerm" class="col-sm-4 control-label">Source terminal</label>
                            <div class="col-sm-8">

                              <select class="form-control" name="srcOTidentifier" required>
                                
                                  <option id="srcTerm">Select SOURCE</option>
                                  <div class="listScroll"> 
                                  <% _.each(terminals, function(terminal) { 
                                        if(terminal.get('active')==true){ %>

                                    <option value="<%= terminal.get('identifier') %>"><%= terminal.get('hostName') %></option>

                                  <%  }
                                    }); %>
                                </div>
                              </select><br>

                            </div>
                          </div>

                          <div class="form-group"><!-- DESTINATION -->
                            <label for="dstTerm" class="col-sm-4 control-label">Destination terminal</label>
                            <div class="col-sm-8">
                              <select class="form-control" name="dstOTidentifier" required>
                                <div class="listScroll"> 
                                  <option id="dstTerm">Select SOURCE</option>
                                  <% _.each(terminals, function(terminal) { 
                                        if(terminal.get('active')==true){ %>

                                    <option value="<%= terminal.get('identifier') %>"><%= terminal.get('hostName') %></option>

                                  <%  }
                                    }); %>
                                </div>
                              </select>
                            </div>
                          </div>

                        </div>

                        <div class="col-sm-6 col-md-6 col-lg-6">

                          <div class="row">

                            <div class="form-group"><!-- PORTS -->
                              <div class="col-sm-4">
                                <label for="ports" >Ports</label>
                              </div>
                              <div class="col-sm-4" id="ports">
                                <input type="text" class="form-control" name="srcPort" value="" placeholder="Source" required>
                                <br>
                              </div>
                              <div class="col-sm-4" id="ports">
                                <input type="text" class="form-control" name="dstPort" value="" placeholder="Destination" required>
                                <br>
                              </div>
                            </div>

                            <div class="form-group"><!-- BANDWIDTH -->
                              <label for="bwOpt" class="col-sm-4 control-label">Bandwidth</label>
                              <div class="col-sm-8">
                                <select class="form-control" name="bandwidth" required>
                                  <div class="listScroll"> 
                                    <option id="bwOpt" value="">Select BANDWIDTH</option>

                                      <option value="1000" >1 Kbps</option>
                                      <option value="10000" >10 Kbps</option>
                                      <option value="100000" >100 Kbps</option>
                                      <option value="1000000" >1 Mbps</option>
                                      <option value="10000000" >10 Mbps</option>
                                      <option value="100000000" >100 Mbps</option>
                                      <option value="1000000000" >1 Gbps</option>
                                  </div>
                                </select><br>
                              </div>
                            </div>

                            <div class="form-group"><!-- PROTOCOL -->
                              <label for="protoFlow" class="col-sm-4 control-label">Protocol</label>
                              <div class="col-sm-8">
                                <select class="form-control" name="protocol" required>
                                  <div class="listScroll"> 
                                    <option id="protoFlow" value="">Select Protocol</option>
                                      <option value="tcp">TCP</option>
                                      <option value="udp">UDP</option>
                                  </div>
                                </select><br>
                              </div>
                            </div>

                          </div>

                        </div>

                      </div>

                        
                        <hr />
                       <center><button type="submit" class="btn btn-lg btn-success">CREATE</button></center>

                    </form>

                  </div>
                
              </div>
        </div>
      </script>
  	<!-- /NEW FLOW TEMPLATE -->

  	<!-- EDIT-CREATE USER TEMPLATE -->
  	<script type="text/template" id="edit-user-template">

        <div class="panel <%= user ? 'panel-danger' : 'panel-success' %>">
          <div class="panel-heading">

            <div class="row">

              <div class="col-md-4 col-sm-4">
                <a href="#/adminUsers/<%= orgId  %>">
                  <button type="button" class="btn btn-primary margin-10-left"><i class="fa fa-reply"></i>   Go back
                  </button>
                </a>
              </div>

              <div class="col-md-4 col-sm-4">
                <h2 class="panel-title"> <center> <%= user ? 'Edit User: '+user.get('name') : 'Create User' %> </center> </h2>
              </div>

              <div class="col-md-4 col-sm-4">
              </div>
            </div>

          </div>

          <div class="panel-body">
            <form class="form-horizontal edit-user-form well" role="form">
              <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-12">

                  <div class="form-group">
                    <label for="name" class="col-sm-4 control-label">Name</label>
                    <div class="col-sm-8">
                      <input type="text" class="form-control" name="name" value="<%= user ? user.get('name') : '' %>" >
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="email" class="col-sm-4 control-label">Email</label>
                    <div class="col-sm-8">
                      <input type="email" class="form-control" name="email" value="<%= user ? user.get('email') : '' %>"  >
                    </div>
                  </div>

                

                  <div class="form-group">
                    <label for="telephone" class="col-sm-4 control-label">Telephone</label>
                    <div class="col-sm-8">
                      <input type="text" class="form-control" name="telephone" value="<%= user ? user.get('telephone') : '' %>"  >
                    </div>
                  </div>

                </div>

                <div class="col-lg-6 col-md-6 col-sm-12">

                  <div class="form-group">
                    <label for="password" class="col-sm-4 control-label">Password</label>
                    <div class="col-sm-8">
                      <input type="password" class="form-control" name="password" value="<%= user ? user.get('password') : '' %>"  >
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="admin" class="col-sm-4 control-label">is admin?</label>
                    <div class="col-sm-8">
                    <input type="hidden" id="orgId" value="<%= orgId %>" />
                    
                      <% if(user){ %>
                        <input type="hidden" name="identifier" value="<%= user.get('identifier') %>" />
                        <input type="checkbox" class="form-control" id="admin" 
                            <%= user.get('admin') ? 'checked' : ''%> />
                      <% }else{ %> 
                        <input type="checkbox" class="form-control" id="admin" />
                      <% } %>

                    </div>
                  </div>
                </div>
              </div>

              <div class="row">    
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <div class="form-group">
                    <center>
                      <button type="submit" class="btn btn-lg <%= user ? 'btn-warning' : 'btn-success' %> "><%= user ? '<i class="fa fa-edit"></i> Save changes' : '<i class="fa fa-pencil"></i> Create User'%></button>
                      <%= user ? '<a data-toggle="modal" href="#confirmationUser" class="btn btn-lg btn-danger"><i class="fa fa-trash-o"></i> Remove User </a>' : '' %> 
                    </center>
                  </div>
                </div>
              </div>
            </form>  
          </div>
        </div>

        <!-- DELETE USER Modal -->
          <div class="modal fade" id="confirmationUser" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                  <h4 class="modal-title">Remove user <%= user ? user.get('name') : '' %></h4>
                </div>
                <div class="modal-body">
                  Are you sure you want to remove <center><h2 class="well"><%= user ? user.get('name') : '' %>?</h2> </center> 
                  <br>
                  <%= user ? user.get('identifier') : '' %>  
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-reply"></i> Cancel</button>
                  <button type="button" id="delete-user" class="btn btn-danger delete"><i class="fa fa-trash-o"></i> Remove</button>
                </div>
              </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
          </div><!-- /.modal -->
      </script>
  	<!-- /EDIT-CREATE USER TEMPLATE -->

  	<!-- EDIT TERMINAL TEMPLATE -->
  	<script type="text/template" id="edit-terminal-template">

        <div class="panel panel-danger">
          <div class="panel-heading">
            
            <div class="row">
              <div class="col-md-4 col-sm-4">
                <a href="<%= admin ? '#/adminTerminals' : '#/adminTerminals/'+orgId %>">
                  <button type="button" class="btn btn-primary margin-10-left"><i class="fa fa-reply"></i>   Go back
                  </button>
                </a>
              </div>

              <div class="col-md-4 col-sm-4">
                <h2 class="panel-title"> <center> <%= terminal ? 'Edit Terminal: '+terminal.get('hostName') : '' %> </center> </h2>
              </div>

              <div class="col-md-4 col-sm-4">
              </div>
            </div>

          </div>

          <div class="panel-body">
            <form class="form-horizontal edit-terminal-form well" role="form">

              
   
              <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-12">

                  <div class="form-group">
                    <label for="orgId" class="col-sm-4 control-label">Organization</label>
                    <div class="col-sm-8">

                      <input type="text" class="form-control" name="orgId" value="<%= orgId %>" readonly title="Unassign terminal to change the organization">

                      <!--
                        <select class="form-control" readonly title="Unassign terminal to change the organization">
                          <% _.each(organizations, function(organization) { %>
                            <option id="organization" value="<%= organization.get('identifier') %>" ><%= organization.get('name') %></option>
                          <% }); %>
                        </select>
                      -->
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="name" class="col-sm-4 control-label">Name</label>
                    <div class="col-sm-8">
                      <input type="text" class="form-control" name="hostName" value="<%= terminal ? terminal.get('hostName') : '' %>" autofocus>
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="description" class="col-sm-4 control-label">Description</label>
                    <div class="col-sm-8">
                      <input type="text" class="form-control" name="description" value="<%= terminal ? terminal.get('description') : '' %>"  >
                    </div>
                  </div>

                </div>

                <div class="col-lg-6 col-md-6 col-sm-12">

                  <div class="form-group">
                    <label for="ipAddress" class="col-sm-4 control-label">IP address</label>
                    <div class="col-sm-8">
                      <input type="ipAddress" class="form-control" name="ipAddress" value="<%= terminal ? terminal.get('ipAddress') : '' %>"  readonly>
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="mac" class="col-sm-4 control-label">MAC</label>
                    <div class="col-sm-8">
                      <input type="mac" class="form-control" name="mac" value="<%= terminal ? terminal.get('mac') : '' %>"  readonly>
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="ifaceSpeed" class="col-sm-4 control-label">Interface</label>
                    <div class="col-sm-8">
                      <input type="text" class="form-control" name="ifaceSpeed" value="<%= terminal ? terminal.get('ifaceSpeed') : '' %>"  readonly>
                    </div>
                  </div>

                  
                </div>
              </div>

              <div class="row">    
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <div class="form-group">
                    <center>
                      <button type="submit" class="btn btn-lg <%= terminal ? 'btn-warning' : 'btn-success' %> "><%= terminal ? '<i class="fa fa-edit"></i> Save changes' : ''%></button>
                      <%= terminal ? '<a data-toggle="modal" href="#confirmationTerminal" class="btn btn-lg btn-danger"><i class="fa fa-unlink"></i> Unassign Terminal </a>' : '' %> 
                    </center>
                  </div>
                </div>
              </div>
            </form>  
          </div>
        </div>

        <!-- UNASSIGN TERMINAL Modal -->
          <div class="modal fade" id="confirmationTerminal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                  <h4 class="modal-title">Unassign terminal <%= terminal.get('hostName') %> from <%= terminal.get('hostName') %></h4>
                </div>
                <div class="modal-body">
                  Are you sure you want to unassign terminal:<center><h2 class="well"><%= terminal ? terminal.get('hostName') : '' %></h2></center> <center>from: <h4 class="well"><%= terminal ? terminal.get('orgId') : '' %>?</h4></center> 
                  <br>
                  <%= terminal ? terminal.get('identifier') : '' %>  
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-reply"></i> Cancel</button>
                  <button type="button" id="unassign-terminal" class="btn btn-danger delete"><i class="fa fa-unlink"></i> Unassign</button>
                </div>
              </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
          </div><!-- /.modal -->
      </script>
  	<!-- /EDIT TERMINAL TEMPLATE -->
	<!-- /SHARED TEMPLATES -->

	<!-- /TEMPLATES -->




	<!-- JavaScript -->
	<!-- Page Specific Plugins -->
	<script type="text/javascript" src="js/ajax.js"></script>
	<script type="text/javascript" src="js/jquery-1.10.2.js"></script>
	<script type="text/javascript" src="js/date.format.1.2.3.min.js"></script>
	<script type="text/javascript" src="js/highcharts.js"></script>
	<script type="text/javascript" src="js/exporting.js"></script>
	<script type="text/javascript" src="js/jquery.slimscroll.min.js"></script>
	<script type="text/javascript" src="js/underscore-min.js"></script>
	<script type="text/javascript" src="js/bootstrap.js"></script>
	<script type="text/javascript" src="js/backbone-min.js"></script>
	<script type="text/javascript"
		src="js/tablesorter/jquery.tablesorter.js"></script>
	<script type="text/javascript" src="js/tablesorter/tables.js"></script>
	<script type="text/javascript" src="js/d3.v3.min.js"></script>
	<script type="text/javascript" src="js/spin.min.js"></script>
	<script type="text/javascript" src="js/protovis.js"></script>
	<!-- CONTROLLER -->
	<script type="text/javascript" src="js/gauge.js"></script>
	<script type="text/javascript" src="js/statusOverview.js"></script>
	<script type="text/javascript" src="js/controller.js"></script>
	<script type="text/javascript" src="js/util.js"></script>
	<script type="text/javascript" src="js/rtws.js"></script>
	<!--
  <script type="text/javascript" src="js/rtws.js"></script>
  -->
</body>
</html>